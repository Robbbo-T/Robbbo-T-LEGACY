{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "OEGI Genesis Artifact Schema",
  "description": "Schema for OEGI certified Genesis Artifacts",
  "type": "object",
  "required": [
    "oegi_record"
  ],
  "properties": {
    "oegi_record": {
      "type": "object",
      "required": [
        "id",
        "title",
        "version",
        "authors",
        "timestamps",
        "license",
        "hashes",
        "eligibility"
      ],
      "properties": {
        "id": {
          "type": "string",
          "pattern": "^OEGI-AG-[0-9]{4}-[0-9]{6}$",
          "description": "Unique OEGI Genesis Artifact identifier"
        },
        "title": {
          "type": "string",
          "maxLength": 200,
          "description": "Human-readable title of the Genesis Artifact"
        },
        "version": {
          "type": "string",
          "pattern": "^[0-9]+\\.[0-9]+$",
          "description": "Semantic version of the artifact"
        },
        "authors": {
          "type": "array",
          "minItems": 1,
          "items": {
            "type": "object",
            "required": ["name"],
            "properties": {
              "name": {
                "type": "string",
                "maxLength": 100
              },
              "orcid": {
                "type": "string",
                "pattern": "^[0-9]{4}-[0-9]{4}-[0-9]{4}-[0-9]{3}[0-9X]$"
              },
              "affiliation": {
                "type": "string",
                "maxLength": 200
              },
              "email": {
                "type": "string",
                "format": "email"
              }
            }
          }
        },
        "timestamps": {
          "type": "object",
          "required": ["first_seen"],
          "properties": {
            "first_seen": {
              "type": "string",
              "format": "date-time",
              "description": "ISO 8601 timestamp of first registration"
            },
            "certified_at": {
              "type": "string",
              "format": "date-time",
              "description": "ISO 8601 timestamp of certification"
            },
            "expires_at": {
              "type": "string",
              "format": "date-time",
              "description": "ISO 8601 timestamp when rights expire (8 years)"
            }
          }
        },
        "license": {
          "type": "string",
          "enum": [
            "GL-EU-BY-1.0",
            "GL-EU-BY-RC-1.0", 
            "GL-EU-BY-RF-1.0"
          ],
          "description": "Genesis License EU version"
        },
        "hashes": {
          "type": "object",
          "required": ["sha256"],
          "properties": {
            "sha256": {
              "type": "string",
              "pattern": "^[a-f0-9]{64}$",
              "description": "SHA-256 hash of the artifact content"
            },
            "sha512": {
              "type": "string", 
              "pattern": "^[a-f0-9]{128}$",
              "description": "Optional SHA-512 hash for additional security"
            }
          }
        },
        "eligibility": {
          "type": "object",
          "required": ["gi2_score", "checks_passed"],
          "properties": {
            "gi2_score": {
              "type": "number",
              "minimum": 0.0,
              "maximum": 1.0,
              "description": "Genesis Innovation Index score (0-1)"
            },
            "checks_passed": {
              "type": "array",
              "items": {
                "type": "string",
                "enum": [
                  "originalidad",
                  "aplicabilidad", 
                  "verificabilidad",
                  "trazabilidad",
                  "direccionalidad"
                ]
              },
              "minItems": 3,
              "description": "Minimum 3 of 5 eligibility criteria must pass"
            },
            "certification_level": {
              "type": "string",
              "enum": ["Core", "Pro", "Standard-linked"]
            }
          }
        },
        "provenance": {
          "type": "object",
          "properties": {
            "prov_ref": {
              "type": "string",
              "format": "uri",
              "description": "Reference to W3C PROV provenance graph"
            },
            "git_repository": {
              "type": "string",
              "format": "uri"
            },
            "commit_hash": {
              "type": "string",
              "pattern": "^[a-f0-9]{40}$"
            }
          }
        },
        "links": {
          "type": "object",
          "properties": {
            "doi": {
              "type": "string",
              "pattern": "^10\\..+/.+$"
            },
            "repo": {
              "type": "string",
              "format": "uri"
            },
            "documentation": {
              "type": "string",
              "format": "uri"
            }
          }
        },
        "disclaimer": {
          "type": "string",
          "maxLength": 500,
          "description": "Legal disclaimer about remunerative vs exclusive rights"
        }
      }
    }
  }
}